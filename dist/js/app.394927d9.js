(function(e){function t(t){for(var a,o,i=t[0],c=t[1],s=t[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(p.length)p.shift()();return n.push.apply(n,s||[]),l()}function l(){for(var e,t=0;t<n.length;t++){for(var l=n[t],a=!0,i=1;i<l.length;i++){var c=l[i];0!==r[c]&&(a=!1)}a&&(n.splice(t--,1),e=o(o.s=l[0]))}return e}var a={},r={app:0},n=[];function o(t){if(a[t])return a[t].exports;var l=a[t]={i:t,l:!1,exports:{}};return e[t].call(l.exports,l,l.exports,o),l.l=!0,l.exports}o.m=e,o.c=a,o.d=function(e,t,l){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(o.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(l,a,function(t){return e[t]}.bind(null,a));return l},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=c;n.push([0,"chunk-vendors"]),l()})({0:function(e,t,l){e.exports=l("56d7")},"034f":function(e,t,l){"use strict";l("85ec")},"1a43":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-date-picker",{attrs:{value:e.value,type:"datetime",placeholder:"选择日期时间"},on:{input:function(t){return e.$emit("change",t.target.value)}}})},r=[],n={model:{prop:"value",event:"change"},props:{schema:Object,value:[String,Array,Object]}},o=n,i=l("2877"),c=Object(i["a"])(o,a,r,!1,null,null,null);t["default"]=c.exports},"1c4d":function(e,t,l){},"1d2b":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("textarea",{staticClass:"form-textarea",attrs:{placeholder:"请输入"+e.schema.label,clearable:""},domProps:{value:e.value},on:{input:function(t){return e.$emit("change",t.target.value)}}})},r=[],n={model:{prop:"value",event:"change"},props:{schema:Object,value:[String,Array,Object]}},o=n,i=(l("3fc2"),l("2877")),c=Object(i["a"])(o,a,r,!1,null,null,null);t["default"]=c.exports},"3fc2":function(e,t,l){"use strict";l("1c4d")},"525c":function(e,t,l){"use strict";l("ba58")},"56d7":function(e,t,l){"use strict";l.r(t);l("e260"),l("e6cf"),l("cca6"),l("a79d");var a=l("2b0e"),r=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:6}},[l("el-button",{attrs:{type:"primary"}},[e._v("schema")]),l("el-button",{attrs:{type:"primary"},on:{click:e.changeSchema}},[e._v("快速增加一个输入框")]),l("codemirror",{attrs:{options:{mode:"vue",extraKeys:{"Ctrl-Space":"autocomplete"},lineWrapping:!0,tabSize:2,matchBrackets:!0}},model:{value:e.jsonSchema,callback:function(t){e.jsonSchema=t},expression:"jsonSchema"}})],1),l("el-col",{attrs:{span:12}},[l("el-button",{attrs:{type:"primary"}},[e._v("使用方法："+e._s(e.use))]),l("common-form",{attrs:{schema:e.schema},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1),l("el-col",{attrs:{span:6}},[l("el-button",{attrs:{type:"primary"}},[e._v("获取到的值：form")]),l("pre",[e._v(e._s(e.form))]),l("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.change}},[e._v("尝试改变第二层B2的值")])],1)],1)],1)},n=[],o=(l("e9c4"),l("e222")),i=l("c884");l("f9d4"),l("693d"),l("9b74"),l("f6b6"),l("3c98"),l("8c33");var c={name:"app",components:{commonForm:o["default"],codemirror:i["codemirror"]},data:function(){return{use:'<common-form :schema="schema" v-model="form" />',form:{},schema:{children:[{model:"A1",label:"A1 Input 输入框",type:"el-input"},{model:"A2",label:"A2 第二层",type:"el-object",children:[{model:"B1",label:"B1 InputNumber 计数器",type:"el-input-number"},{model:"B2",label:"B2 Textarea 文本框",type:"el-textarea"},{model:"B3",label:"B3 Upload 上传",type:"el-upload",props:{mode:"single",limit:1,data:{imageType:2}}},{model:"B4",label:"B4 动态增删组件",type:"el-array",children:[{model:"C1",label:"C1 Radio 单选框",type:"el-radio-group",options:[{label:"苹果"},{label:"西瓜"},{label:"草莓"}]}]},{model:"B5",label:"B5 第三层",type:"el-object",children:[{model:"C2",label:"C2 第四层",type:"el-object",children:[{model:"D1",label:"D1 Select 选择器",type:"el-select",options:[1,2,3]},{model:"D2",label:"D3 第五层",type:"el-object",children:[{model:"E1",label:"E1 TimePicker 时间选择器",type:"el-time-select"},{model:"E2",label:"E2 DatePicker 日期选择器",type:"el-date-picker"},{model:"E3",label:"E3 第六层",type:"el-object",children:[{model:"F1",label:"F1 Rate 评分",type:"el-rate"},{model:"F2",label:"F2 ColorPicker 颜色选择器",type:"el-color-picker"}]}]}]}]},{model:"B6",label:"B6 另一个第三层",type:"el-object",children:[{model:"C3",label:"C3 Switch 开关",type:"el-switch"},{model:"C4",label:"C4 Slider 滑块",type:"el-slider"}]}]}]}}},computed:{jsonSchema:{get:function(){return JSON.stringify(this.schema,null,1)},set:function(e){this.schema=JSON.parse(e)}}},methods:{change:function(){this.form.A2.B2="testChange"},changeSchema:function(){this.schema.children.push({model:"A"+Date.now(),label:"A"+Date.now()+" Input 输入框",type:"el-input"})}}},s=c,u=(l("034f"),l("2877")),d=Object(u["a"])(s,r,n,!1,null,null,null),p=d.exports,m=l("5c96"),f=l.n(m);l("0fae");a["default"].config.productionTip=!1,a["default"].use(f.a),new a["default"]({render:function(e){return e(p)}}).$mount("#app")},"5a97":function(e,t,l){"use strict";l("bb87")},"5cf9":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-radio-group",{attrs:{value:e.value},on:{change:function(t){return e.$emit("change",e.value)}}},e._l(e.schema.options,(function(t,a){return l("el-radio",{key:a,attrs:{label:t.label,disabled:t.disabled}},[e._v(e._s(t.label))])})),1)},r=[],n={model:{prop:"value",event:"change"},props:{schema:Object,value:[String,Array,Object]}},o=n,i=l("2877"),c=Object(i["a"])(o,a,r,!1,null,null,null);t["default"]=c.exports},"6aef":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-upload",{attrs:{action:"#",headers:{token:e.token},data:e.schema.props.data,name:"multipartFile","file-list":e.fileList,limit:e.schema.props.limit,multiple:"","list-type":"picture-card","on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"on-exceed":e.handleExceed}},[l("i",{staticClass:"el-icon-plus"})])],1)},r=[],n=(l("d3b7"),l("159b"),{props:{schema:Object,value:[String,Array]},data:function(){return{token:sessionStorage.getItem("token"),dialogImageUrl:"",dialogVisible:!1}},computed:{fileList:function(){var e=this,t=[];return this.value&&this.value.forEach((function(l){t.push({name:l.imageName,url:e.baseURL+l.imageAddr})})),t}},methods:{handleRemove:function(e,t){console.log(e,t)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleSuccess:function(e,t,l){console.log(e,t,l),this.$emit("onChange",l)},handleExceed:function(){this.$message.error("图片张数超出限制")}}}),o=n,i=l("2877"),c=Object(i["a"])(o,a,r,!1,null,null,null);t["default"]=c.exports},"85ec":function(e,t,l){},b3b0:function(e,t,l){var a={"./customUpload.vue":"6aef","./elArray.vue":"d8b5","./elDateTimePicker.vue":"1a43","./elRadios.vue":"5cf9","./elTextarea.vue":"1d2b"};function r(e){var t=n(e);return l(t)}function n(e){if(!l.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=n,e.exports=r,r.id="b3b0"},ba58:function(e,t,l){},bb87:function(e,t,l){},d8b5:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-card",{attrs:{shadow:"never"}},[e._l(e.array,(function(t,a){return l("div",{key:a},[l("div",{staticStyle:{"text-align":"right"}},[l("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return t.preventDefault(),e.removeChildren(a)}}},[e._v("删除")])],1),l("el-object",{attrs:{schema:e.schema},model:{value:e.array[a],callback:function(t){e.$set(e.array,a,t)},expression:"array[index]"}})],1)})),l("div",{staticStyle:{"text-align":"right","margin-top":"10px"}},[l("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus",round:"",plain:""},on:{click:e.addChildren}})],1)],2)],1)},r=[],n=(l("d3b7"),l("3ca3"),l("ddb0"),l("a434"),{name:"el-array",model:{prop:"array",event:"change"},props:{schema:Object,value:[String,Array]},components:{elObject:function(){return Promise.resolve().then(l.bind(null,"e222"))}},data:function(){return{array:[{}]}},watch:{array:{handler:function(){this.$emit("change",this.array)}}},methods:{removeChildren:function(e){-1!==e&&this.array.splice(e,1)},addChildren:function(){this.array.push({})}}}),o=n,i=(l("5a97"),l("2877")),c=Object(i["a"])(o,a,r,!1,null,null,null);t["default"]=c.exports},e222:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("form",{attrs:{model:e.tempForm}},[l("el-card",{attrs:{shadow:"never"}},["object"===e.schema.type?l("el-button",{attrs:{type:"info",plain:"",size:"mini"}},[e._v(e._s(e.schema.label))]):e._e(),e._l(e.schema.children,(function(t,a){return l("div",{key:a},["object"!=t.type?l("span",{staticClass:"form-item"},[e._v(e._s(t.label))]):e._e(),e.hangKey.includes(t.type)?e._e():l(t.type,{tag:"component",attrs:{schema:t,label:t.label,placeholder:"请输入"+t.label,disabled:t.disabled,clearable:""},model:{value:e.tempForm[t.model],callback:function(l){e.$set(e.tempForm,t.model,l)},expression:"tempForm[item.model]"}}),"el-radio-group"===t.type?l("el-radio-group",{attrs:{disabled:t.disabled},model:{value:e.tempForm[t.model],callback:function(l){e.$set(e.tempForm,t.model,l)},expression:"tempForm[item.model]"}},e._l(t.options,(function(t,a){return l("el-radio",{key:a,attrs:{label:t.label,disabled:t.disabled}},[e._v(e._s(t.label))])})),1):e._e(),"el-select"===t.type?l("el-select",{staticStyle:{width:"100% !important"},attrs:{filterable:"",placeholder:"请选择"+t.label,disabled:t.disabled,multiple:t.multiple,clearable:""},model:{value:e.tempForm[t.model],callback:function(l){e.$set(e.tempForm,t.model,l)},expression:"tempForm[item.model]"}},e._l(t.options,(function(e,t){return l("el-option",{key:t,attrs:{label:e,value:t+1,disabled:e.disabled}})})),1):e._e(),"el-upload"===t.type?l("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,action:"#","auto-upload":!1,accept:"image/*","file-list":e.fileList,"on-change":function(l){return e.handleUploadChange(l,t.model)}}},[e.tempForm[t.model]?l("img",{staticClass:"avatar",attrs:{src:e.imageUrl[t.model]}}):l("i",{staticClass:"el-icon-plus avatar-uploader-icon",attrs:{slot:"default"},slot:"default"})]):e._e()],1)}))],2)],1)},r=[],n=l("5530"),o=(l("d3b7"),l("159b"),l("ddb0"),l("ac1f"),l("1276"),l("3ca3"),l("2b3d"),l("9861"),l("b3b0")),i={};o.keys().forEach((function(e){var t=o(e),l=e.split("/")[e.split("/").length-1].split(".")[0];i[l]=t.default||t}));var c=["el-radio-group","el-checkbox-group","el-select","el-upload"],s={name:"el-object",model:{prop:"tempForm",event:"change"},props:{schema:Object,form:Object},components:Object(n["a"])({},i),data:function(){return{tempForm:{},imageUrl:{},fileList:[],hangKey:c}},watch:{tempForm:{handler:function(){this.$emit("change",this.tempForm)}}},methods:{handleUploadChange:function(e,t){console.log(e,t),this.imageUrl[t]=URL.createObjectURL(e.raw),this.$set(this.tempForm,t,this.imageUrl)}}},u=s,d=(l("525c"),l("2877")),p=Object(d["a"])(u,a,r,!1,null,null,null);t["default"]=p.exports}});
//# sourceMappingURL=app.394927d9.js.map